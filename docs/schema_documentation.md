
# Dcard-like App Database Documentation

## ğŸ§‘â€ğŸ“ Users æ¨¡å—

### 1. ç”¨æˆ·æ ¸å¿ƒä¿¡æ¯
| Table | æè¿° |
|-------|------|
| `users` | ä¸»ç”¨æˆ·è¡¨ï¼Œè®°å½•åŸºæœ¬ä¿¡æ¯ï¼ˆå¦‚ email, username, password, æ€§åˆ«ç­‰ï¼‰ |
| `user_profiles` | ç”¨æˆ·æ‰©å±•èµ„æ–™ï¼ˆå¦‚å…´è¶£ã€å¤§å­¦ã€å–œå¥½ã€ä½œæ¯ç­‰ï¼‰|
| `user_preferences` | ç”¨æˆ·åå¥½è®¾ç½®ï¼ˆè¯­è¨€ã€é€šçŸ¥ç­‰ï¼‰ |
| `user_providers` | OAuth ç™»å½•ä¿¡æ¯ï¼Œå¦‚ Google / GitHub |
| `user_sessions` | ç”¨æˆ·ç™»å½• session ä¸è®¾å¤‡ä¿¡æ¯ |

### 2. ç”¨æˆ·è¡Œä¸ºä¸äº’åŠ¨
| Table | æè¿° |
|-------|------|
| `posts` | ç”¨æˆ·å‘å¸ƒçš„æ–‡ç«  |
| `comments` | ç”¨æˆ·å¯¹æ–‡ç« çš„è¯„è®ºï¼ˆæ”¯æŒæ¥¼ä¸­æ¥¼ï¼‰ |
| `votes` | å¯¹æ–‡ç« æˆ–è¯„è®ºçš„ç‚¹èµ / ç‚¹è¸© |
| `favorites` | æ”¶è—çš„æ–‡ç«  |
| `followers` | ç”¨æˆ·ä¹‹é—´çš„å…³æ³¨å…³ç³» |
| `user_interests` | ç”¨æˆ·åå¥½çš„æ ‡ç­¾æˆ–ä¸»é¢˜ï¼Œç”¨äºæ¨èç³»ç»Ÿ |
| `user_topic_subscriptions` | ç”¨æˆ·è®¢é˜…çš„è¯é¢˜ |
| `daily_matches` | æ¯æ—¥é…å¯¹åŠŸèƒ½ |
| `messages` | ç”¨æˆ·ä¹‹é—´çš„ç§ä¿¡ |
| `message_read_status` | æ¶ˆæ¯çš„å·²è¯»çŠ¶æ€ |
| `blocked_users` | æ‹‰é»‘ç”¨æˆ·åˆ—è¡¨ |
| `user_wall_posts` | ç”¨æˆ·ä¸ªäººå¢™çš„è´´æ–‡ |
| `user_wall_settings` | å¢™è®¾å®šï¼šéšç§ã€æ ·å¼ç­‰ |
| `user_badges` | ç”¨æˆ·è·å¾—çš„å¾½ç«  |
| `user_mfa` | å¤šé‡è®¤è¯ï¼ˆApp/SMS/Emailï¼‰é…ç½® |
| `user_report_history` | ç”¨æˆ·æäº¤çš„ä¸¾æŠ¥è®°å½• |

## ğŸ›¡ï¸ Admin æ¨¡å—

### 1. ç®¡ç†å‘˜è´¦å·ä¸æƒé™
| Table | æè¿° |
|-------|------|
| `admin_users` | ç®¡ç†å‘˜ä¿¡æ¯ï¼ˆæ¥æºäº usersï¼‰|
| `admin_sessions` | ç®¡ç†å‘˜ session æ•°æ® |
| `action_log` | ç®¡ç†å‘˜åœ¨ç³»ç»Ÿä¸­çš„è¡Œä¸ºæ—¥å¿— |
| `content_moderation` | ç®¡ç†å‘˜å®¡æ ¸å†…å®¹ï¼ˆè´´æ–‡/è¯„è®º/åª’ä½“ï¼‰ |

### 2. ä¸¾æŠ¥ä¸å®¡æŸ¥
| Table | æè¿° |
|-------|------|
| `reports` | ç”¨æˆ·ä¸¾æŠ¥å†…å®¹ï¼ˆè¯„è®º / å¸–æ–‡ï¼‰ |
| `content_versions` | å¸–æ–‡ / è¯„è®ºçš„å†å²ç‰ˆæœ¬ |
| `content_moderation` | AI æˆ–äººå·¥çš„å†…å®¹å®¡æ ¸æµç¨‹ä¸ç»“æœ |

## ğŸ¢ Business æ¨¡å—

### 1. å•†ä¸šç”¨æˆ·è´¦å·ä¸ç™»å½•
| Table | æè¿° |
|-------|------|
| `business_users` | å¹¿å‘Šä¸»è´¦å·ä¿¡æ¯ï¼ˆé usersï¼‰|
| `business_sessions` | å•†ä¸šç”¨æˆ·çš„ session |

### 2. å¹¿å‘Šä¸è¡Œé”€ç³»ç»Ÿ
| Table | æè¿° |
|-------|------|
| `promotion_requests` | å•†ä¸šç”¨æˆ·æäº¤çš„æ¨å¹¿è¯·æ±‚ |
| `ad_campaigns` | å¹¿å‘ŠæŠ•æ”¾ä¸»è¡¨ï¼ˆå…³è” requestï¼‰ |
| `ad_performance` | å¹¿å‘ŠæŠ•æ”¾ç»©æ•ˆï¼ˆæ›å…‰ã€ç‚¹å‡»ã€èŠ±è´¹ï¼‰|
| `ad_placements` | æŒ‡å®šå¹¿å‘Šåœ¨å“ªäº›åŒºåŸŸæŠ•æ”¾ |
| `promotion_rules` | æ¨å¹¿æ´»åŠ¨çš„è§¦å‘è§„åˆ™ï¼ˆå¦‚é—¨æ§›/æ—¶é—´ï¼‰|
| `promotion_targets` | æ¨å¹¿å¯¹è±¡ï¼ˆç”¨æˆ·æ®µã€çœ‹æ¿ç­‰ï¼‰|
| `ads` | å¹¿å‘Šå†…å®¹è¡¨ |
| `influencer_campaigns` | å½±å“è€…åˆä½œè®¡åˆ’ |
| `trial_campaigns` | å•†å“è¯•ç”¨æ´»åŠ¨ |
| `trial_participants` | ç”¨æˆ·å‚ä¸è¯•ç”¨çš„è®°å½• |

## ğŸŒ Public æ¨¡å—ï¼ˆå¹³å°é€šç”¨/ç³»ç»Ÿå†…å®¹ï¼‰

### 1. ç¤¾ç¾¤å†…å®¹ä¸ç»“æ„
| Table | æè¿° |
|-------|------|
| `boards` | çœ‹æ¿è®¾å®šï¼ˆåç§°ã€åˆ†ç±»ã€æ˜¯å¦åŒ¿åï¼‰|
| `board_categories` | çœ‹æ¿ç±»åˆ«ï¼ˆæœ‰ parent_id æ”¯æŒå¤šå±‚ï¼‰|
| `board_category_mappings` | çœ‹æ¿ä¸ç±»åˆ«çš„æ˜ å°„è¡¨ |
| `board_followers` | ç”¨æˆ·å…³æ³¨çš„çœ‹æ¿ |
| `topics` | è¯é¢˜ä¸»é¢˜ï¼ˆç±»ä¼¼å…´è¶£é¢†åŸŸï¼‰|
| `hashtags` | æ ‡ç­¾ï¼ˆ#å…³é”®è¯ï¼‰|
| `post_hashtags` | å¸–æ–‡ä¸æ ‡ç­¾çš„æ˜ å°„ |
| `post_media` | å¸–å­é™„åŠ çš„åª’ä½“æ–‡ä»¶ |
| `anonymous_avatars` | åŒ¿åå‘è¨€æ‰€ç”¨å¤´åƒ |
| `anonymous_avatar_assignments` | åŒ¿åå¤´åƒåˆ†é…è®°å½• |

### 2. å•†åº—ä¸å•†å“ç³»ç»Ÿ
| Table | æè¿° |
|-------|------|
| `store_products` | å•†å“åˆ—è¡¨ |
| `store_orders` | å•†å“è®¢å• |

### 3. å¹¿å‘Šè¿½è¸ªä¸åˆ†æ
| Table | æè¿° |
|-------|------|
| `ad_pixels` | åµŒå…¥å¼ pixel è„šæœ¬ |
| `ad_pixel_events` | ç”¨æˆ·è§¦å‘çš„ pixel äº‹ä»¶ |
| `landing_pages` | å¹¿å‘Šä¸“å±è½åœ°é¡µ |
| `audience_segments` | å¹¿å‘Šå—ä¼—ç¾¤ä½“ |
| `campaign_segments` | å¹¿å‘Šä¸å—ä¼—æ˜ å°„è¡¨ |

### 4. å³æ—¶é€šè®¯ & æ´»åŠ¨
| Table | æè¿° |
|-------|------|
| `chat_rooms` | ç¾¤ç»„/é…å¯¹èŠå¤©å®¤ |
| `chat_participants` | èŠå¤©å®¤æˆå‘˜ |
| `chat_messages` | èŠå¤©è®°å½• |
| `events` | ç”¨æˆ·å‘èµ·çš„æ´»åŠ¨ |
| `event_attendees` | å‚ä¸è€…åå• |

## ğŸ”— å…³è”é€»è¾‘æ€»ç»“

| å®ä½“ | å½±å“èŒƒå›´ |
|------|----------|
| `users.id` | å‡ ä¹æ˜¯æ‰€æœ‰äº’åŠ¨å‹è¡¨ï¼ˆå¦‚ posts, comments, votes, messages, notifications, reportsï¼‰æ ¸å¿ƒå¤–é”® |
| `admin_users.user_id` | ä» users è¡¨è¡ç”Ÿï¼Œç”¨äºåŒºåˆ†æƒé™ä¸æ“ä½œèƒ½åŠ› |
| `business_users` | ç‹¬ç«‹è¡¨ï¼Œä¸å¹¿å‘ŠæŠ•æ”¾ç³»ç»Ÿï¼ˆå¦‚ ads, promotion_requestsï¼‰å¼ºç›¸å…³ |
| åŒ¿åæœºåˆ¶ | `anonymous_avatars` + `anonymous_avatar_assignments` åº”ç”¨äº post/comment/message çš„åŒ¿ååŒ–å¤„ç† |
